[supervisord]
nodaemon=true
logfile=/var/log/supervisor/supervisord.log
pidfile=/var/run/supervisord.pid

[program:xvfb]
command=/usr/bin/Xvfb :99 -screen 0 1280x1024x24
autorestart=true
stdout_logfile=/var/log/supervisor/xvfb.log
stderr_logfile=/var/log/supervisor/xvfb.log

[program:selenium]
command=python3 -m selenium.webdriver.chrome.service --port=4444
environment=DISPLAY=":99"
autorestart=true
stdout_logfile=/var/log/supervisor/selenium.log
stderr_logfile=/var/log/supervisor/selenium.log

[program:scraper]
command=python3 /app/enhanced_scraper_service.py
environment=DISPLAY=":99"
autorestart=true
stdout_logfile=/var/log/supervisor/scraper.log
stderr_logfile=/var/log/supervisor/scraper.log

[program:health_monitor]
command=python3 /app/health_monitor.py
autorestart=true
stdout_logfile=/var/log/supervisor/health.log
stderr_logfile=/var/log/supervisor/health.log
